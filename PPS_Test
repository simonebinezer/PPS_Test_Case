from selenium import webdriver
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
import time

# Initialize the WebDriver
driver = webdriver.Chrome(executable_path='C:\Users\DHPL023\OneDrive\Desktop\simonebinezer - Chrome.lnk')

# Define the URL of the website
url = "http://cxanalytix.in/pps/public/"

# Open the website
driver.get(url)

# Maximize the browser window
driver.maximize_window()

# Define the login credentials
email = "simonebinezer@differenthair.com"
password = "salomijames"

try:
    # Wait until the email field is present and input email
    email_field = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "email"))
    )
    email_field.clear()
    email_field.send_keys(email)

    # Wait until the password field is present and input password
    password_field = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "password"))
    )
    password_field.clear()
    password_field.send_keys(password)

    # Click the login button
    login_button = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.ID, "loginButton"))
    )
    login_button.click()

    # Wait for the OTP field to appear, enter OTP (assuming OTP is received and entered manually for simplicity)
    otp_field = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "otp"))
    )
    otp_field.clear()
    otp_field.send_keys("123456")  # Replace with actual OTP

    # Click the submit button for OTP
    otp_submit_button = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.ID, "otpSubmitButton"))
    )
    otp_submit_button.click()

    # Wait until the home page is loaded
    WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "homePageIdentifier"))
    )

    # Example of navigating through multiple pages
    # Page 1
    page1_link = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.LINK_TEXT, "Page 1"))
    )
    page1_link.click()

    # Wait for Page 1 to load
    WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "page1Identifier"))
    )

    # Page 2
    page2_link = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.LINK_TEXT, "Page 2"))
    )
    page2_link.click()

    # Wait for Page 2 to load
    WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.ID, "page2Identifier"))
    )

    # Additional navigation and actions as needed
    # ...

finally:
    # Close the browser after the test is done
    time.sleep(5)  # Wait for a few seconds to observe the results
    driver.quit()
